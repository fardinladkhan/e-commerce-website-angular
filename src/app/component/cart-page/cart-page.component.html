<app-header></app-header>
<ng-container *ngIf="showproduct.length !=0">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-9">
        <h3>Cart Item</h3>
        <table class="table table-borderless mt-3">
            <thead class="thead-dark">
              <tr>
                <th scope="col">Image</th>
                <th scope="col">Brand</th>
                <th scope="col">Category</th>
                <th scope="col">Price</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of showproduct">
                <td><img style="width:120px;" src="{{item.images[0]}}"></td>
                <td>{{item.title}}</td>
                <td>{{item.category}}</td>
                <td>${{item.price}}</td>
                <td><button (click)="deleteitem(item)" class="btn btn-danger">Delete</button></td>
              </tr>
            </tbody>
          </table>
        </div>
    <!-- Total Sections -->
    <div class="col-sm-3">
        <h1>Total Amount</h1>
        <strong style="font-size: 35px;color: green;">${{totalamount}}</strong><br>
        <div class="btn-group mt-3">
            <button (click)="this.addressform=true" class="btn btn-primary">Check out</button>&nbsp;
            <button (click)="Empty()" class="btn btn-secondary">Empty cart</button>
        </div>
        <!-- Forms -->
        <div class="mt-3" *ngIf="addressform">
        <form [formGroup]="myform">
            <div class="form-group">
              <label for="exampleInputEmail1">Email address</label>
              <input type="email" class="form-control" formControlName="email" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
              
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Name</label>
              <input type="text" class="form-control" formControlName="name" id="exampleInputPassword1" placeholder="Name">
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Mobile Number</label>
                <input type="number" class="form-control" formControlName="mobile" id="exampleInputPassword1" placeholder="Mobile Number">
              </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Address</label>
                <textarea class="form-control" formControlName="address" id="exampleFormControlTextarea1" placeholder="Address" rows="3"></textarea>
            </div>
            <button routerLink="/order-page" type="submit" (click)="onsubmit()" [disabled]="this.myform.invalid" class="btn btn-success mt-2">Order Now</button>&nbsp;
            <button routerLink="/product-view" type="submit" (click)="cancel()" class="btn btn-dark mt-2">Cancel</button>&nbsp;

          </form>

          
    </div>
    </div>
</div>
    <!--form ends  -->

   </div>
</ng-container>

<!-- Empty Cart -->
<ng-container *ngIf="showproduct.length == 0">
    <div class="card">
        <div class="center">
            <h4>Cart is Empty</h4>
            <h6>Please Add Items</h6>
            <button routerLink="/product-view" class="btn btn-dark">Shop Now</button>
        </div>
    </div>
</ng-container>